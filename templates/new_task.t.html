{% extends "base.t.html" %}
{% block title %}Create New Task - {{ super() }}{% endblock %}
{% block link_css %}
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-markdown/2.8.0/css/bootstrap-markdown.min.css" rel="stylesheet"/>
{% endblock %}
{% block header_sub_text %}Create New Task{% endblock %}
{% block content %}
<div class="container">
<div>
    <form action="{{ form_action if form_action != None else 'new' }}" method="post" enctype="multipart/form-data">
        <input class="btn btn-primary" type="submit" value="Save"/>
        <a class="btn btn-info" href="{{ prev_url or url_for('index') }}">Back</a>
        <p></p>
        <textarea name="description" rows="12" data-provide="markdown" data-resize="vertical">{{ description if description != None else '' }}</textarea>
        <table>
            <tr><td>ID</td><td>(Not yet assigned)</td></tr>
            <tr><td>Summary</td><td><input type="text" name="summary" value="{{ summary if summary != None else '' }}" /></td></tr>
            <tr><td>Deadline</td><td><input type="text" name="deadline" value="{{ deadline if deadline != None else '' }}"></td></tr>
            <tr><td>Done?</td><td><input type="checkbox" name="is_done" /></td></tr>
            <tr><td>Deleted?</td><td><input type="checkbox" name="is_deleted"/></td></tr>
            <tr><td rowspan="3">Order:</td><td>
                                            <label for="order_type_bottom" class="radio-label">
                                                <input type="radio" name="order_type" value="bottom" id="order_type_bottom" {{ 'checked' if order_num == None }}/>
                                                Bottom of the list
                                            </label>
                                           </td></tr>
            <tr>                           <td>
                                            <label for="order_type_top" class="radio-label">
                                                <input type="radio" name="order_type" value="top" id="order_type_top" />
                                                Top of the list
                                            </label>
                                           </td></tr>
            <tr>                           <td>
                                            <label for="order_type_order_num" class="radio-label">
                                                <input type="radio" name="order_type" value="order_num" id="order_type_order_num" {{ 'checked' if order_num != None }}/>
                                                Specific order_num: <input type="text" name="order_num" value="{{ order_num if order_num != None else '' }}" />
                                            </label>
                                           </td></tr>
            <tr><td>Expected duration (in minutes)</td><td><input type="text" name="expected_duration_minutes" value="{{ expected_duration_minutes if expected_duration_minutes != None else '' }}" /></td></tr>
            <tr><td>Expected cost</td><td><input type="text" name="expected_cost" value="{{ expected_cost if expected_cost != None else '' }}" /></td></tr>
            <tr><td>Parent ID</td><td><input type="text" name="parent_id" value="{{ parent_id if parent_id != None }}" /></td></tr>
            <tr><td>Public?</td><td><input type="checkbox" name="is_public" /></td></tr>
            <tr><td>Tags</td><td><input type="text" name="tags" value="{{ tags if tags != None}}" /></td></tr>
            {% if is_clone %}
            <tr><td>Clone child tasks?</td><td><input type="checkbox" name="clone_children" /></td></tr>
            <input type="hidden" name="clone_id" value="{{ clone_id }}" />
            {% endif %}
         </table>
        <p></p>
        <input class="btn btn-primary" type="submit" value="Save"/>
        <a class="btn btn-info" href="{{ prev_url or url_for('index') }}">Back</a>
    </form>
</div>
</div>
{% endblock %}

{% block endbody %}
    {{ super() }}
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-markdown/2.8.0/js/bootstrap-markdown.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/markdown.js/0.5.0/markdown.min.js"></script>
{% endblock %}
